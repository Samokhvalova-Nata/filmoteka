function e(t){"Escape"===t.code&&(r(),document.removeEventListener("keydown",e))}function t(t){t.currentTarget===t.target&&(r(),document.removeEventListener("keydown",e))}function r(){iframeEl.innerHTML=" ",movieModalEl.classList.toggle("visually-hidden"),trailerModalEl.classList.toggle("visually-hidden"),document.addEventListener("keydown",e)}function l(e){console.warn(e)}function n(e){let t;e.results.forEach((e=>{"Official Trailer"!==e.name&&"Official Trailer 1"!==e.name||(t=e.key)})),iframeEl.insertAdjacentHTML("beforeend",`<iframe\n          class="trailer__iframe"\n          src="https://www.youtube.com/embed/${t}"\n          title="Official trailer"\n          frameborder="0"\n          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n          allowfullscreen\n        ></iframe>`)}trailerModalCloseEl=document.querySelector(".trailer__close-icon"),trailerModalEl=document.querySelector(".trailer"),trailerModalOpenEl=document.querySelector(".modal__watch-treller"),movieModalEl=document.querySelector(".modal__movie"),iframeEl=document.querySelector(".trailer__iframe-wrap"),trailerModalOpenEl.addEventListener("click",(function(){(async function(e){await async function(e){return fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=7fc57a32bb8b4747bafc97bb7301e33f&language=en-US`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}(e).then(n).catch(l)})(804150),trailerModalEl.classList.toggle("visually-hidden"),movieModalEl.classList.toggle("visually-hidden"),trailerModalEl.addEventListener("click",t),document.addEventListener("keydown",e)})),trailerModalCloseEl.addEventListener("click",(function(){r(),document.removeEventListener("keydown",e)}));
//# sourceMappingURL=mylibrary.05b47e00.js.map
