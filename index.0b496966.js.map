{"mappings":"AAKqBA,SAASC,cAAc,0BACzBD,SAASC,cAAc,wBACtBD,SAASC,cAAc","sources":["src/js/add-watched-queue.js"],"sourcesContent":["const API_KEY = '7fc57a32bb8b4747bafc97bb7301e33f';\nconst BASE_URL = 'https://api.themoviedb.org';\n\nconst id = 638974;\n\nconst addWatchedEl = document.querySelector('.modal__button-watched');\nconst addQueueEl = document.querySelector('.modal__button-queue');\nconst galleryCard = document.querySelector('.film__gallery');\n\n// addWatchedEl.addEventListener('click', toggleFilmToWatchedStorage);\n// addQueueEl.addEventListener('click', toggleFilmToQueueStorage);\n// galleryCard.addEventListener('click', checkStorageKeys);\n\nfunction toggleFilmToWatchedStorage() {\n  if (addWatchedEl.textContent === 'Remove from watched') {\n    const fromLocal = localStorage.getItem('watched');\n    let watchedStorage = JSON.parse(fromLocal);\n    const removeMovie = watchedStorage.filter(el => el !== id);\n    localStorage.setItem('watched', JSON.stringify(removeMovie));\n    addWatchedEl.textContent = 'Add to watched';\n    return;\n  }\n  const fromLocal = localStorage.getItem('watched');\n  localStorage.setItem(\n    'watched',\n    JSON.stringify(checkLocaleStorage(fromLocal, 'watched', addWatchedEl))\n  );\n}\n\nfunction toggleFilmToQueueStorage() {\n  if (addQueueEl.textContent === 'Remove from queue') {\n    const fromLocal = localStorage.getItem('queue');\n    let queueStorage = JSON.parse(fromLocal);\n    const removeMovie = queueStorage.filter(el => el !== id);\n    localStorage.setItem('queue', JSON.stringify(removeMovie));\n    addQueueEl.textContent = 'Add to queue';\n    return;\n  }\n  const fromLocal = localStorage.getItem('queue');\n  localStorage.setItem(\n    'queue',\n    JSON.stringify(checkLocaleStorage(fromLocal, 'queue', addQueueEl))\n  );\n}\n\nfunction checkLocaleStorage(data, btn, el) {\n  let queueStorage = JSON.parse(data);\n  if (queueStorage === null) {\n    queueStorage = [];\n  }\n  let currentLocaleStorage = [...queueStorage];\n  if (!currentLocaleStorage.includes(id)) {\n    currentLocaleStorage = [...currentLocaleStorage, id];\n    el.textContent = `Remove from ${btn}`;\n  }\n  return currentLocaleStorage;\n}\n\nfunction checkStorageKeys() {\n  checkWatchedKeys();\n  checkQueueKeys();\n}\n\nfunction checkWatchedKeys() {\n  const fromLocal = localStorage.getItem('watched');\n  let localeStorage = JSON.parse(fromLocal);\n  if (localeStorage === null) {\n    return;\n  }\n  let currentLocaleStorage = [...localeStorage];\n  if (currentLocaleStorage.includes(id)) {\n    addWatchedEl.textContent = 'Remove from watched';\n  } else {\n    addWatchedEl.textContent = 'Add to watched';\n  }\n}\n\nfunction checkQueueKeys() {\n  const fromLocal = localStorage.getItem('queue');\n  let localeStorage = JSON.parse(fromLocal);\n  if (localeStorage === null) {\n    return;\n  }\n  let currentLocaleStorage = [...localeStorage];\n  if (currentLocaleStorage.includes(id)) {\n    addQueueEl.textContent = 'Remove from queue';\n  } else {\n    addQueueEl.textContent = 'Add to queue';\n  }\n}\n"],"names":["document","querySelector"],"version":3,"file":"index.0b496966.js.map"}