{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,sDAUMC,GADYC,SAASC,cAAc,oBACnBD,SAASC,cAAc,uBACvCC,EAAmBF,SAASC,cAAc,kBAC1CE,EAAiBH,SAASC,cAAc,gBACrBD,SAASC,cAAc,kBAMhD,SAASG,IACPF,EAAiBG,UAAUC,IAAI,UAE/BC,EAA+B,U,CASjC,SAASA,EAA+BC,GACtCT,EAAcU,UAAY,IAC1B,I,EAAMC,EAAgBC,aAAaC,QAAQJ,GACrCK,EAAsBC,KAAKC,MAAML,GACX,OAAxBG,GACFA,EAAoBG,S,EAAQC,EAAApB,EAAA,CAAAoB,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,4FAEX,EAAAC,EAAAC,gBAAeF,G,OAClCG,EADUC,EAAAC,M,gDAGVC,QAAQC,KAAIH,EAAAI,I,kEALkBR,G,kCAWtC,SAASG,EAAmBM,GAC1B,IAAMC,EAAWD,EAAKE,OAAOC,KAAI,SAAAZ,G,OAAMA,EAAGa,E,IACpCC,EAAcC,EAAAJ,OAAOK,QAAQN,GACnChC,EAAcuC,mBACZ,YACA,6BAIwCC,OAJXT,EAAKI,GAAG,oIAQXK,OAJcT,EAAKU,YAAY,uFAK7BD,OADFT,EAAKW,MAAM,wCACQF,OAAjBJ,EAAY,OAGtCI,OAH2CT,EAAKY,aAAaC,MAC7D,EACA,GACA,mC,CAjDNzC,EAAiB0C,iBAAiB,QAASxC,GAC3CD,EAAeyC,iBAAiB,SAShC,WAEE1C,EAAiBG,UAAUwC,OAAO,UAClCtC,EAA+B,Q,IAXjCuC,OAAOF,iBAAiB,OAAQxC,E","sources":["src/js/watched-queue-button.js"],"sourcesContent":["import { fetchMovieInfo } from './fetchFromTheMovieDB';\nimport { getTemplateCard } from './template-card';\nimport { genres } from './genres';\n\nconst API_KEY = '7fc57a32bb8b4747bafc97bb7301e33f';\nconst BASE_URL = 'https://api.themoviedb.org';\n\nconst id = 76600;\n\nconst galleryEl = document.querySelector('.library-gallery');\nconst galleryListEl = document.querySelector('[data-movies-list]');\nconst watchedGalleryEl = document.querySelector('[data-watched]');\nconst queueGalleryEl = document.querySelector('[data-queue]');\nconst libraryGalleryEl = document.querySelector('[data-library]');\n\nwatchedGalleryEl.addEventListener('click', renderWatchedGallery);\nqueueGalleryEl.addEventListener('click', renderQueueGallery);\nwindow.addEventListener('load', renderWatchedGallery);\n\nfunction renderWatchedGallery() {\n  watchedGalleryEl.classList.add('active');\n  //   queueGalleryEl.classList.toggle('active');\n  renderGalleryFromLocaleStorage('watched');\n}\n\nfunction renderQueueGallery() {\n  //   queueGalleryEl.classList.toggle('active');\n  watchedGalleryEl.classList.remove('active');\n  renderGalleryFromLocaleStorage('queue');\n}\n\nfunction renderGalleryFromLocaleStorage(key) {\n  galleryListEl.innerHTML = ' ';\n  const localeStorage = localStorage.getItem(key);\n  const localeStorageMovies = JSON.parse(localeStorage);\n  if (localeStorageMovies !== null) {\n    localeStorageMovies.forEach(async el => {\n      try {\n        const data = await fetchMovieInfo(el);\n        renderWatchedCards(data);\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n  }\n}\n\nfunction renderWatchedCards(data) {\n  const genresId = data.genres.map(el => el.id);\n  const movieGenres = genres.getSome(genresId);\n  galleryListEl.insertAdjacentHTML(\n    'beforeend',\n    `<li class=\"film__item\" id=${data.id}>\n  <a class=\"film__item-link link\" href=\"#\">\n    <img\n      class=\"film__poster\"\n      src=\"https://image.tmdb.org/t/p/w500${data.poster_path}\"\n      alt=\"\"\n    />\n    <div class=\"film__info\">\n      <p class=\"film__name\">${data.title}</p>\n      <p class=\"film__ganres\">${movieGenres} | ${data.release_date.slice(\n      0,\n      4\n    )}</p>\n    </div>\n  </a>\n</li>`\n  );\n}\n"],"names":["$bpxeT","parcelRequire","$95dbd34da7cf5136$var$galleryListEl","document","querySelector","$95dbd34da7cf5136$var$watchedGalleryEl","$95dbd34da7cf5136$var$queueGalleryEl","$95dbd34da7cf5136$var$renderWatchedGallery","classList","add","$95dbd34da7cf5136$var$renderGalleryFromLocaleStorage","key","innerHTML","localeStorage","localStorage","getItem","localeStorageMovies","JSON","parse","forEach","$parcel$interopDefault","$2TvXO","mark","_callee","el","$8I9Mw","fetchMovieInfo","$95dbd34da7cf5136$var$renderWatchedCards","_ctx","sent","console","warn","t0","data","genresId","genres","map","id","movieGenres","$twtVq","getSome","insertAdjacentHTML","concat","poster_path","title","release_date","slice","addEventListener","remove","window"],"version":3,"file":"mylibrary.7a0e5984.js.map"}