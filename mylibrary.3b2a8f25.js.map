{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAgBC,SAASC,cAAc,sBACvCC,EAAmBF,SAASC,cAAc,kBAC1CE,EAAiBH,SAASC,cAAc,gBAM9C,SAASG,IACPF,EAAiBG,UAAUC,IAAI,UAC/BC,EAA+B,U,CAQjC,SAASA,EAA+BC,GACtCT,EAAcU,UAAY,IAC1B,MAAMC,EAAgBC,aAAaC,QAAQJ,GACrCK,EAAsBC,KAAKC,MAAML,GACX,OAAxBG,EACFA,EAAoBG,SAAQC,MAAMC,IAChC,KAYN,SAAqBC,GACnB,MAAMC,EAAWD,EAAKE,OAAOC,KAAIJ,GAAMA,EAAGK,KACpCC,GAAc,EAAA3B,EAAA4B,SAAQL,GAC5BrB,EAAc2B,mBACZ,YACA,kCAAkCP,EAAKI,gHAGCJ,EAAKQ,iFAGXR,EAAKI,oCACbJ,EAAKS,4CACHJ,OAAiBL,EAAKU,aAAaC,MAC7D,EACA,sC,CAzBEC,OADmBC,EAAAC,IAAIC,eAAehB,G,CAEtC,MAAOiB,GACPC,QAAQC,KAAKF,E,KAIjBC,QAAQE,IAAI,kB,CA5BhBC,OAAOC,iBAAiB,OAAQpC,GAChCF,EAAiBsC,iBAAiB,QAASpC,GAC3CD,EAAeqC,iBAAiB,SAOhC,WACEtC,EAAiBG,UAAUoC,OAAO,UAClClC,EAA+B,Q","sources":["src/js/watched-queue-button.js"],"sourcesContent":["import { getSome } from './genres';\nimport { api } from './API';\n\nconst galleryListEl = document.querySelector('[data-movies-list]');\nconst watchedGalleryEl = document.querySelector('[data-watched]');\nconst queueGalleryEl = document.querySelector('[data-queue]');\n\nwindow.addEventListener('load', renderWatchedGallery);\nwatchedGalleryEl.addEventListener('click', renderWatchedGallery);\nqueueGalleryEl.addEventListener('click', renderQueueGallery);\n\nfunction renderWatchedGallery() {\n  watchedGalleryEl.classList.add('active');\n  renderGalleryFromLocaleStorage('watched');\n}\n\nfunction renderQueueGallery() {\n  watchedGalleryEl.classList.remove('active');\n  renderGalleryFromLocaleStorage('queue');\n}\n\nfunction renderGalleryFromLocaleStorage(key) {\n  galleryListEl.innerHTML = ' ';\n  const localeStorage = localStorage.getItem(key);\n  const localeStorageMovies = JSON.parse(localeStorage);\n  if (localeStorageMovies !== null) {\n    localeStorageMovies.forEach(async el => {\n      try {\n        const data = await api.fetchMovieInfo(el);\n        renderCards(data);\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n  } else {\n    console.log('oooops, nothing');\n  }\n}\n\nfunction renderCards(data) {\n  const genresId = data.genres.map(el => el.id);\n  const movieGenres = getSome(genresId);\n  galleryListEl.insertAdjacentHTML(\n    'beforeend',\n    `<li class=\"film__item\" data-id=${data.id}><div class=\"film__wrap\">\n    <img\n      class=\"film__poster\"\n      src=\"https://image.tmdb.org/t/p/w500${data.poster_path}\"\n      alt=\"\"\n    /></div>\n    <div class=\"film__info\" data-id=${data.id}>\n      <p class=\"film__name\">${data.title}</p>\n      <p class=\"film__ganres\">${movieGenres} | ${data.release_date.slice(\n      0,\n      4\n    )}</p>\n    \n    </div>\n  \n</li>`\n  );\n}\n"],"names":["$ezyJp","parcelRequire","$f1e14054fd3296a2$var$galleryListEl","document","querySelector","$f1e14054fd3296a2$var$watchedGalleryEl","$f1e14054fd3296a2$var$queueGalleryEl","$f1e14054fd3296a2$var$renderWatchedGallery","classList","add","$f1e14054fd3296a2$var$renderGalleryFromLocaleStorage","key","innerHTML","localeStorage","localStorage","getItem","localeStorageMovies","JSON","parse","forEach","async","el","data","genresId","genres","map","id","movieGenres","getSome","insertAdjacentHTML","poster_path","title","release_date","slice","$f1e14054fd3296a2$var$renderCards","$cTOKP","api","fetchMovieInfo","error","console","warn","log","window","addEventListener","remove"],"version":3,"file":"mylibrary.3b2a8f25.js.map"}