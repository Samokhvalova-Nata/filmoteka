{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,4BASkBC,SAASC,cAAc,oBALzC,MAMMC,EAAgBF,SAASC,cAAc,sBACvCE,EAAmBH,SAASC,cAAc,kBAC1CG,EAAiBJ,SAASC,cAAc,gBACrBD,SAASC,cAAc,kBAMhD,SAASI,IACPF,EAAiBG,UAAUC,IAAI,UAE/BC,EAA+B,U,CASjC,SAASA,EAA+BC,GACtCP,EAAcQ,UAAY,IAC1B,MAAMC,EAAgBC,aAAaC,QAAQJ,GACrCK,EAAsBC,KAAKC,MAAML,GACX,OAAxBG,GACFA,EAAoBG,SAAQC,MAAMC,IAChC,KAUN,SAA4BC,GAC1B,MAAMC,EAAWD,EAAKE,OAAOC,KAAIJ,GAAMA,EAAGK,KACpCC,EAAcC,EAAAJ,OAAOK,QAAQN,GACnCnB,EAAc0B,mBACZ,YACA,6BAA6BR,EAAKI,qIAIMJ,EAAKS,iGAInBT,EAAKU,4CACHL,OAAiBL,EAAKW,aAAaC,MAC7D,EACA,oC,CAxBEC,OADmB,EAAAnC,EAAAoC,gBAAef,G,CAElC,MAAOgB,GACPC,QAAQC,KAAKF,E,KA1BrBhC,EAAiBmC,iBAAiB,QAASjC,GAC3CD,EAAekC,iBAAiB,SAShC,WAEEnC,EAAiBG,UAAUiC,OAAO,UAClC/B,EAA+B,Q,IAXjCgC,OAAOF,iBAAiB,OAAQjC","sources":["src/js/watched-queue-button.js"],"sourcesContent":["import { fetchMovieInfo } from './fetchFromTheMovieDB';\nimport { getTemplateCard } from './template-card';\nimport { genres } from './genres';\n\nconst API_KEY = '7fc57a32bb8b4747bafc97bb7301e33f';\nconst BASE_URL = 'https://api.themoviedb.org';\n\nconst id = 76600;\n\nconst galleryEl = document.querySelector('.library-gallery');\nconst galleryListEl = document.querySelector('[data-movies-list]');\nconst watchedGalleryEl = document.querySelector('[data-watched]');\nconst queueGalleryEl = document.querySelector('[data-queue]');\nconst libraryGalleryEl = document.querySelector('[data-library]');\n\nwatchedGalleryEl.addEventListener('click', renderWatchedGallery);\nqueueGalleryEl.addEventListener('click', renderQueueGallery);\nwindow.addEventListener('load', renderWatchedGallery);\n\nfunction renderWatchedGallery() {\n  watchedGalleryEl.classList.add('active');\n  //   queueGalleryEl.classList.toggle('active');\n  renderGalleryFromLocaleStorage('watched');\n}\n\nfunction renderQueueGallery() {\n  //   queueGalleryEl.classList.toggle('active');\n  watchedGalleryEl.classList.remove('active');\n  renderGalleryFromLocaleStorage('queue');\n}\n\nfunction renderGalleryFromLocaleStorage(key) {\n  galleryListEl.innerHTML = ' ';\n  const localeStorage = localStorage.getItem(key);\n  const localeStorageMovies = JSON.parse(localeStorage);\n  if (localeStorageMovies !== null) {\n    localeStorageMovies.forEach(async el => {\n      try {\n        const data = await fetchMovieInfo(el);\n        renderWatchedCards(data);\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n  }\n}\n\nfunction renderWatchedCards(data) {\n  const genresId = data.genres.map(el => el.id);\n  const movieGenres = genres.getSome(genresId);\n  galleryListEl.insertAdjacentHTML(\n    'beforeend',\n    `<li class=\"film__item\" id=${data.id}>\n  <a class=\"film__item-link link\" href=\"#\">\n    <img\n      class=\"film__poster\"\n      src=\"https://image.tmdb.org/t/p/w500${data.poster_path}\"\n      alt=\"\"\n    />\n    <div class=\"film__info\">\n      <p class=\"film__name\">${data.title}</p>\n      <p class=\"film__ganres\">${movieGenres} | ${data.release_date.slice(\n      0,\n      4\n    )}</p>\n    </div>\n  </a>\n</li>`\n  );\n}\n"],"names":["$047UU","parcelRequire","document","querySelector","$f1e14054fd3296a2$var$galleryListEl","$f1e14054fd3296a2$var$watchedGalleryEl","$f1e14054fd3296a2$var$queueGalleryEl","$f1e14054fd3296a2$var$renderWatchedGallery","classList","add","$f1e14054fd3296a2$var$renderGalleryFromLocaleStorage","key","innerHTML","localeStorage","localStorage","getItem","localeStorageMovies","JSON","parse","forEach","async","el","data","genresId","genres","map","id","movieGenres","$ezyJp","getSome","insertAdjacentHTML","poster_path","title","release_date","slice","$f1e14054fd3296a2$var$renderWatchedCards","fetchMovieInfo","error","console","warn","addEventListener","remove","window"],"version":3,"file":"mylibrary.e29db792.js.map"}