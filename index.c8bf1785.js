var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired76b;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var s={id:e,exports:{}};return t[e]=s,a.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequired76b=a),a.register("cTOKP",(function(e,t){var r,s,i,n;r=e.exports,s="api",i=function(){return c},Object.defineProperty(r,s,{get:i,set:n,enumerable:!0,configurable:!0});var o=a("2shzp");const c=new class{#e="week";#t="Avatar";#r="https://api.themoviedb.org/3/";#a="169863a84bc27c731fc45c45dd4a4a7e";backEndConfig={test:0};poster_sizes=["w92","w154","w185","w342","w500","w780","original"];constructor(){this.fetchConf()}async fetchMovie(e,t){t&&(this.#t=t);try{const t=`${this.#r}/search/movie?api_key=${this.#a}&language=en-US&page=${e}&query=${this.#t}`;return(await o.default.get(t)).data}catch(e){throw new Error(e.message)}}async fetchPopMovies(e){try{const t=`${this.#r}trending/movie/${this.#e}?api_key=${this.#a}&page=${e}`;return(await o.default.get(t)).data}catch(e){throw new Error(e.message)}}async fetchMovieInfo(e){try{const t=`${this.#r}movie/${e}?api_key=${this.#a}&language=en-US`;return(await o.default.get(t)).data}catch(e){throw new Error(e.message)}}async fetchGenres(){const e=`${this.#r}genre/movie/list?api_key=${this.#a}&language=en-US`;try{const{data:t}=await o.default.get(e);return t}catch(e){throw new Error(e.message)}}async fetchConf(){const e=`${this.#r}configuration?api_key=${this.#a}`;try{const t=await o.default.get(e);return this.backEndConfig=t.data,t.data}catch(e){throw new Error(e.message)}}getPosterSize(e){for(let t=0;t<this.poster_sizes.length;t+=1)if(e<=Number(this.poster_sizes[t].slice(1)))return this.poster_sizes[t];return this.poster_sizes[this.poster_sizes.length-1]}togglePeriod(){return this.#e="week"===this.#e?"day":"week",this.#e}}}));var s=a("2nhTy"),i=a("ezyJp"),n=a("5RyOa"),o=a("cTOKP"),c=a("lIZrp");const h=document.querySelector(".film__gallery"),l=o.api.getPosterSize(342);async function g(e){try{const a=await o.api.fetchPopMovies(e);h.innerHTML=(t=a.results,r=l,t.map((({poster_path:e,title:t,genre_ids:a,release_date:s,id:n})=>(0,c.getTemplateCard)({title:t,genresStr:i.genres.getSome(a),release_year:s.slice(0,4),poster_path:e,poster_size:r,id:n}))).join("")),s.pagination.setTotalItems(a.total_results)}catch(e){console.log("ERROR! ",e)}var t,r}(0,n.heightMax)(),g(1),s.pagination.on("afterMove",(()=>g(s.pagination._currentPage)));
//# sourceMappingURL=index.c8bf1785.js.map
