const e=document.querySelector("[data-trailer-close]"),t=document.querySelector("[data-trailer-modal]"),n=document.querySelector(".modal__watch-treller"),r=document.querySelector(".modal__movie"),a=document.querySelector("[data-iframe]");function i(e){"Escape"===e.code&&(c(),document.removeEventListener("keydown",i))}function o(e){e.currentTarget===e.target&&(c(),document.removeEventListener("keydown",i))}function c(){a.innerHTML=" ",r.classList.toggle("visually-hidden"),t.classList.toggle("visually-hidden"),document.addEventListener("keydown",i)}function l(e){console.warn(e)}function d(e){let t;e.results.forEach((e=>{"Official Trailer"!==e.name&&"Official Trailer 1"!==e.name||(t=e.key)})),a.insertAdjacentHTML("beforeend",`<iframe\n          class="trailer__iframe"\n          src="https://www.youtube.com/embed/${t}"\n          title="Official trailer"\n          frameborder="0"\n          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n          allowfullscreen\n        ></iframe>`)}n.addEventListener("click",(function(){(async function(e){await async function(e){return fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=7fc57a32bb8b4747bafc97bb7301e33f&language=en-US`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()}))}(e).then(d).catch(l)})(948713),t.classList.toggle("visually-hidden"),r.classList.toggle("visually-hidden"),t.addEventListener("click",o),document.addEventListener("keydown",i)})),e.addEventListener("click",(function(){c(),document.removeEventListener("keydown",i)}));
//# sourceMappingURL=mylibrary.ecdeabc3.js.map
