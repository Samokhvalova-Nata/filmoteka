{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCAGMC,EAAgBC,SAASC,cAAc,sBACvCC,EAAmBF,SAASC,cAAc,kBAC1CE,EAAiBH,SAASC,cAAc,gBAM9C,SAASG,IACPF,EAAiBG,UAAUC,IAAI,UAC/BC,EAA+B,U,CAQjC,SAASA,EAA+BC,GACtCT,EAAcU,UAAY,IAC1B,I,EAAMC,EAAgBC,aAAaC,QAAQJ,GACrCK,EAAsBC,KAAKC,MAAML,GACX,OAAxBG,EACFA,EAAoBG,S,EAAQC,EAAApB,EAAA,CAAAoB,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,2FAEXC,EAAAC,IAAIC,eAAeH,G,OACtCI,EADUC,EAAAC,M,gDAGVC,QAAQC,KAAIH,EAAAI,I,kEALkBT,G,kCASlCO,QAAQG,IAAI,kB,CAIhB,SAASN,EAAYO,GACnB,IAAMC,EAAWD,EAAKE,OAAOC,KAAI,SAAAd,G,OAAMA,EAAGe,E,IACpCC,GAAc,EAAAC,EAAAC,SAAQN,GAC5BlC,EAAcyC,mBACZ,YACA,kCAGwCC,OAHNT,EAAKI,GAAG,+GAMRK,OAHMT,EAAKU,YAAY,uEAI/BD,OADQT,EAAKI,GAAG,mCAEdK,OADFT,EAAKW,MAAM,wCACQF,OAAjBJ,EAAY,OAGtCI,OAH2CT,EAAKY,aAAaC,MAC7D,EACA,GACA,qC,CAhDNC,OAAOC,iBAAiB,OAAQ3C,GAChCF,EAAiB6C,iBAAiB,QAAS3C,GAC3CD,EAAe4C,iBAAiB,SAOhC,WACE7C,EAAiBG,UAAU2C,OAAO,UAClCzC,EAA+B,Q","sources":["src/js/watched-queue-button.js"],"sourcesContent":["import { getSome } from './genres';\nimport { api } from './API';\n\nconst galleryListEl = document.querySelector('[data-movies-list]');\nconst watchedGalleryEl = document.querySelector('[data-watched]');\nconst queueGalleryEl = document.querySelector('[data-queue]');\n\nwindow.addEventListener('load', renderWatchedGallery);\nwatchedGalleryEl.addEventListener('click', renderWatchedGallery);\nqueueGalleryEl.addEventListener('click', renderQueueGallery);\n\nfunction renderWatchedGallery() {\n  watchedGalleryEl.classList.add('active');\n  renderGalleryFromLocaleStorage('watched');\n}\n\nfunction renderQueueGallery() {\n  watchedGalleryEl.classList.remove('active');\n  renderGalleryFromLocaleStorage('queue');\n}\n\nfunction renderGalleryFromLocaleStorage(key) {\n  galleryListEl.innerHTML = ' ';\n  const localeStorage = localStorage.getItem(key);\n  const localeStorageMovies = JSON.parse(localeStorage);\n  if (localeStorageMovies !== null) {\n    localeStorageMovies.forEach(async el => {\n      try {\n        const data = await api.fetchMovieInfo(el);\n        renderCards(data);\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n  } else {\n    console.log('oooops, nothing');\n  }\n}\n\nfunction renderCards(data) {\n  const genresId = data.genres.map(el => el.id);\n  const movieGenres = getSome(genresId);\n  galleryListEl.insertAdjacentHTML(\n    'beforeend',\n    `<li class=\"film__item\" data-id=${data.id}><div class=\"film__wrap\">\n    <img\n      class=\"film__poster\"\n      src=\"https://image.tmdb.org/t/p/w500${data.poster_path}\"\n      alt=\"\"\n    /></div>\n    <div class=\"film__info\" data-id=${data.id}>\n      <p class=\"film__name\">${data.title}</p>\n      <p class=\"film__ganres\">${movieGenres} | ${data.release_date.slice(\n      0,\n      4\n    )}</p>\n    \n    </div>\n  \n</li>`\n  );\n}\n"],"names":["$bpxeT","parcelRequire","$95dbd34da7cf5136$var$galleryListEl","document","querySelector","$95dbd34da7cf5136$var$watchedGalleryEl","$95dbd34da7cf5136$var$queueGalleryEl","$95dbd34da7cf5136$var$renderWatchedGallery","classList","add","$95dbd34da7cf5136$var$renderGalleryFromLocaleStorage","key","innerHTML","localeStorage","localStorage","getItem","localeStorageMovies","JSON","parse","forEach","$parcel$interopDefault","$2TvXO","mark","_callee","el","$dNYR7","api","fetchMovieInfo","$95dbd34da7cf5136$var$renderCards","_ctx","sent","console","warn","t0","log","data","genresId","genres","map","id","movieGenres","$twtVq","getSome","insertAdjacentHTML","concat","poster_path","title","release_date","slice","window","addEventListener","remove"],"version":3,"file":"mylibrary.4cde6755.js.map"}