!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},o=n.parcelRequired76b;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},n.parcelRequired76b=o);var i=o("bpxeT"),a=o("2TvXO"),c="7fc57a32bb8b4747bafc97bb7301e33f",u="https://api.themoviedb.org",l=document.querySelector("[data-trailer-close]"),d=document.querySelector("[data-trailer-modal]"),s=document.querySelector(".modal__watch-treller"),f=document.querySelector(".modal__movie"),p=document.querySelector("[data-iframe]");function m(e){"Escape"===e.code&&(y(),document.removeEventListener("keydown",m))}function v(e){e.currentTarget===e.target&&(y(),document.removeEventListener("keydown",m))}function y(){p.innerHTML=" ",f.classList.toggle("visually-hidden"),d.classList.toggle("visually-hidden"),document.addEventListener("keydown",m)}function w(e){console.warn(e)}function h(e){var n;e.results.forEach((function(e){"Official Trailer"!==e.name&&"Official Trailer 1"!==e.name||(n=e.key)})),p.insertAdjacentHTML("beforeend",'<iframe\n          class="trailer__iframe"\n          src="https://www.youtube.com/embed/'.concat(n,'"\n          title="Official trailer"\n          frameborder="0"\n          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n          allowfullscreen\n        ></iframe>'))}function b(e){return g.apply(this,arguments)}function g(){return(g=e(i)(e(a).mark((function n(t){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(u,"/3/movie/").concat(t,"/videos?api_key=").concat(c,"&language=en-US")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})));case 1:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function L(){return(L=e(i)(e(a).mark((function n(t){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t).then(h).catch(w);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),n)})))).apply(this,arguments)}s.addEventListener("click",(function(){(function(e){L.apply(this,arguments)})(948713),d.classList.toggle("visually-hidden"),f.classList.toggle("visually-hidden"),d.addEventListener("click",v),document.addEventListener("keydown",m)})),l.addEventListener("click",(function(){y(),document.removeEventListener("keydown",m)}))}();
//# sourceMappingURL=mylibrary.1260c205.js.map
