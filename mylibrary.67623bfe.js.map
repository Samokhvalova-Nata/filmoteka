{"mappings":"AASkBA,SAASC,cAAc,oBACnBD,SAASC,cAAc,sBACpBD,SAASC,cAAc,kBACzBD,SAASC,cAAc,gBACrBD,SAASC,cAAc","sources":["src/js/watched-queue-button.js"],"sourcesContent":["//TODO: import { fetchMovieInfo } from './fetchFromTheMovieDB';\n//TODO: not used import { getTemplateCard } from './template-card';\nimport { getSome } from './genres';\n\nconst API_KEY = '7fc57a32bb8b4747bafc97bb7301e33f';\nconst BASE_URL = 'https://api.themoviedb.org';\n\nconst id = 76600;\n\nconst galleryEl = document.querySelector('.library-gallery');\nconst galleryListEl = document.querySelector('[data-movies-list]');\nconst watchedGalleryEl = document.querySelector('[data-watched]');\nconst queueGalleryEl = document.querySelector('[data-queue]');\nconst libraryGalleryEl = document.querySelector('[data-library]');\n\n// watchedGalleryEl.addEventListener('click', renderWatchedGallery);\n// queueGalleryEl.addEventListener('click', renderQueueGallery);\n// window.addEventListener('load', renderWatchedGallery);\n\nfunction renderWatchedGallery() {\n  watchedGalleryEl.classList.add('active');\n  //   queueGalleryEl.classList.toggle('active');\n  renderGalleryFromLocaleStorage('watched');\n}\n\nfunction renderQueueGallery() {\n  //   queueGalleryEl.classList.toggle('active');\n  watchedGalleryEl.classList.remove('active');\n  renderGalleryFromLocaleStorage('queue');\n}\n\nfunction renderGalleryFromLocaleStorage(key) {\n  galleryListEl.innerHTML = ' ';\n  const localeStorage = localStorage.getItem(key);\n  const localeStorageMovies = JSON.parse(localeStorage);\n  if (localeStorageMovies !== null) {\n    localeStorageMovies.forEach(async el => {\n      try {\n        const data = await fetchMovieInfo(el);\n        renderWatchedCards(data);\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n  }\n}\n\nfunction renderWatchedCards(data) {\n  const genresId = data.genres.map(el => el.id);\n  const movieGenres = getSome(genresId);\n  galleryListEl.insertAdjacentHTML(\n    'beforeend',\n    `<li class=\"film__item\" id=${data.id}>\n  <a class=\"film__item-link link\" href=\"#\">\n    <img\n      class=\"film__poster\"\n      src=\"https://image.tmdb.org/t/p/w500${data.poster_path}\"\n      alt=\"\"\n    />\n    <div class=\"film__info\">\n      <p class=\"film__name\">${data.title}</p>\n      <p class=\"film__ganres\">${movieGenres} | ${data.release_date.slice(\n      0,\n      4\n    )}</p>\n    </div>\n  </a>\n</li>`\n  );\n}\n"],"names":["document","querySelector"],"version":3,"file":"mylibrary.67623bfe.js.map"}