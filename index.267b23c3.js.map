{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAGMC,EAAK,OAELC,EAAeC,SAASC,cAAc,0BACtCC,EAAaF,SAASC,cAAc,wBACpCE,EAAcH,SAASC,cAAc,kBAsC3C,SAASG,EAAmBC,EAAMC,EAAKC,GACrC,IAAIC,EAAeC,KAAKC,MAAML,GACT,OAAjBG,IACFA,EAAe,IAEjB,IAAIG,EAAwBC,EAAAhB,EAAA,CAAGY,GAK/B,OAJKG,EAAqBE,SAASf,KACjCa,EAAwBC,EAAAhB,EAAD,CAAIe,GAAAG,OAAJ,CAA0BhB,IACjDS,EAAGQ,YAAc,eAAmBD,OAAJR,IAE3BK,C,CA9CTZ,EAAaiB,iBAAiB,SAI9B,WACE,GAAiC,wBAA7BjB,EAAagB,YAAuC,CACtD,IAAME,EAAYC,aAAaC,QAAQ,WAEjCC,EADeX,KAAKC,MAAMO,GACGI,QAAO,SAAAd,G,OAAMA,IAAOT,C,IAGvD,OAFAoB,aAAaI,QAAQ,UAAWb,KAAKc,UAAUH,SAC/CrB,EAAagB,YAAc,iB,CAG7B,IAAMS,EAAYN,aAAaC,QAAQ,WACvCD,aAAaI,QACX,UACAb,KAAKc,UAAUnB,EAAmBoB,EAAW,UAAWzB,I,IAf5DG,EAAWc,iBAAiB,SAmB5B,WACE,GAA+B,sBAA3Bd,EAAWa,YAAqC,CAClD,IAAME,EAAYC,aAAaC,QAAQ,SAEjCC,EADaX,KAAKC,MAAMO,GACGI,QAAO,SAAAd,G,OAAMA,IAAOT,C,IAGrD,OAFAoB,aAAaI,QAAQ,QAASb,KAAKc,UAAUH,SAC7ClB,EAAWa,YAAc,e,CAG3B,IAAMU,EAAYP,aAAaC,QAAQ,SACvCD,aAAaI,QACX,QACAb,KAAKc,UAAUnB,EAAmBqB,EAAW,QAASvB,I,IA9B1DC,EAAYa,iBAAiB,SA+C7B,YAKA,WACE,IAAMC,EAAYC,aAAaC,QAAQ,WACnCO,EAAgBjB,KAAKC,MAAMO,GAC/B,GAAsB,OAAlBS,EACF,OAE0Bd,EAAAhB,EAAA,CAAG8B,GACNb,SAASf,GAChCC,EAAagB,YAAc,sBAE3BhB,EAAagB,YAAc,gB,EAd7BY,GAkBF,WACE,IAAMV,EAAYC,aAAaC,QAAQ,SACnCO,EAAgBjB,KAAKC,MAAMO,GAC/B,GAAsB,OAAlBS,EACF,OAE0Bd,EAAAhB,EAAA,CAAG8B,GACNb,SAASf,GAChCI,EAAWa,YAAc,oBAEzBb,EAAWa,YAAc,c,CA3B3Ba,E","sources":["src/js/add-watched-queue.js"],"sourcesContent":["const API_KEY = '7fc57a32bb8b4747bafc97bb7301e33f';\nconst BASE_URL = 'https://api.themoviedb.org';\n\nconst id = 638974;\n\nconst addWatchedEl = document.querySelector('.modal__button-watched');\nconst addQueueEl = document.querySelector('.modal__button-queue');\nconst galleryCard = document.querySelector('.film__gallery');\n\naddWatchedEl.addEventListener('click', toggleFilmToWatchedStorage);\naddQueueEl.addEventListener('click', toggleFilmToQueueStorage);\ngalleryCard.addEventListener('click', checkStorageKeys);\n\nfunction toggleFilmToWatchedStorage() {\n  if (addWatchedEl.textContent === 'Remove from watched') {\n    const fromLocal = localStorage.getItem('watched');\n    let watchedStorage = JSON.parse(fromLocal);\n    const removeMovie = watchedStorage.filter(el => el !== id);\n    localStorage.setItem('watched', JSON.stringify(removeMovie));\n    addWatchedEl.textContent = 'Add to watched';\n    return;\n  }\n  const fromLocal = localStorage.getItem('watched');\n  localStorage.setItem(\n    'watched',\n    JSON.stringify(checkLocaleStorage(fromLocal, 'watched', addWatchedEl))\n  );\n}\n\nfunction toggleFilmToQueueStorage() {\n  if (addQueueEl.textContent === 'Remove from queue') {\n    const fromLocal = localStorage.getItem('queue');\n    let queueStorage = JSON.parse(fromLocal);\n    const removeMovie = queueStorage.filter(el => el !== id);\n    localStorage.setItem('queue', JSON.stringify(removeMovie));\n    addQueueEl.textContent = 'Add to queue';\n    return;\n  }\n  const fromLocal = localStorage.getItem('queue');\n  localStorage.setItem(\n    'queue',\n    JSON.stringify(checkLocaleStorage(fromLocal, 'queue', addQueueEl))\n  );\n}\n\nfunction checkLocaleStorage(data, btn, el) {\n  let queueStorage = JSON.parse(data);\n  if (queueStorage === null) {\n    queueStorage = [];\n  }\n  let currentLocaleStorage = [...queueStorage];\n  if (!currentLocaleStorage.includes(id)) {\n    currentLocaleStorage = [...currentLocaleStorage, id];\n    el.textContent = `Remove from ${btn}`;\n  }\n  return currentLocaleStorage;\n}\n\nfunction checkStorageKeys() {\n  checkWatchedKeys();\n  checkQueueKeys();\n}\n\nfunction checkWatchedKeys() {\n  const fromLocal = localStorage.getItem('watched');\n  let localeStorage = JSON.parse(fromLocal);\n  if (localeStorage === null) {\n    return;\n  }\n  let currentLocaleStorage = [...localeStorage];\n  if (currentLocaleStorage.includes(id)) {\n    addWatchedEl.textContent = 'Remove from watched';\n  } else {\n    addWatchedEl.textContent = 'Add to watched';\n  }\n}\n\nfunction checkQueueKeys() {\n  const fromLocal = localStorage.getItem('queue');\n  let localeStorage = JSON.parse(fromLocal);\n  if (localeStorage === null) {\n    return;\n  }\n  let currentLocaleStorage = [...localeStorage];\n  if (currentLocaleStorage.includes(id)) {\n    addQueueEl.textContent = 'Remove from queue';\n  } else {\n    addQueueEl.textContent = 'Add to queue';\n  }\n}\n"],"names":["$8nrFW","parcelRequire","$2279b3520ddc6ba6$var$id","$2279b3520ddc6ba6$var$addWatchedEl","document","querySelector","$2279b3520ddc6ba6$var$addQueueEl","$2279b3520ddc6ba6$var$galleryCard","$2279b3520ddc6ba6$var$checkLocaleStorage","data","btn","el","queueStorage","JSON","parse","currentLocaleStorage","$parcel$interopDefault","includes","concat","textContent","addEventListener","fromLocal","localStorage","getItem","removeMovie","filter","setItem","stringify","fromLocal1","fromLocal2","localeStorage","$2279b3520ddc6ba6$var$checkWatchedKeys","$2279b3520ddc6ba6$var$checkQueueKeys"],"version":3,"file":"index.267b23c3.js.map"}