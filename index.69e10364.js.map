{"mappings":"AAAA,MAKMA,EAAeC,SAASC,cAAc,0BACtCC,EAAaF,SAASC,cAAc,wBACpCE,EAAcH,SAASC,cAAc,kBAsC3C,SAASG,EAAmBC,EAAMC,EAAKC,GACrC,IAAIC,EAAeC,KAAKC,MAAML,GACT,OAAjBG,IACFA,EAAe,IAEjB,IAAIG,EAAuB,IAAIH,GAK/B,OAJKG,EAAqBC,SAhDjB,UAiDPD,EAAuB,IAAIA,EAjDpB,QAkDPJ,EAAGM,YAAc,eAAeP,KAE3BK,C,CA9CTZ,EAAae,iBAAiB,SAI9B,WACE,GAAiC,wBAA7Bf,EAAac,YAAuC,CACtD,MAAME,EAAYC,aAAaC,QAAQ,WAEvC,MAAMC,EADeT,KAAKC,MAAMK,GACGI,QAAOZ,GAdnC,SAcyCA,IAGhD,OAFAS,aAAaI,QAAQ,UAAWX,KAAKY,UAAUH,SAC/CnB,EAAac,YAAc,iB,CAG7B,MAAME,EAAYC,aAAaC,QAAQ,WACvCD,aAAaI,QACX,UACAX,KAAKY,UAAUjB,EAAmBW,EAAW,UAAWhB,I,IAf5DG,EAAWY,iBAAiB,SAmB5B,WACE,GAA+B,sBAA3BZ,EAAWW,YAAqC,CAClD,MAAME,EAAYC,aAAaC,QAAQ,SAEvC,MAAMC,EADaT,KAAKC,MAAMK,GACGI,QAAOZ,GA9BjC,SA8BuCA,IAG9C,OAFAS,aAAaI,QAAQ,QAASX,KAAKY,UAAUH,SAC7ChB,EAAWW,YAAc,e,CAG3B,MAAME,EAAYC,aAAaC,QAAQ,SACvCD,aAAaI,QACX,QACAX,KAAKY,UAAUjB,EAAmBW,EAAW,QAASb,I,IA9B1DC,EAAYW,iBAAiB,SA+C7B,YAKA,WACE,MAAMC,EAAYC,aAAaC,QAAQ,WACvC,IAAIK,EAAgBb,KAAKC,MAAMK,GAC/B,GAAsB,OAAlBO,EACF,OAEyB,IAAIA,GACNV,SAnEhB,QAoEPb,EAAac,YAAc,sBAE3Bd,EAAac,YAAc,gB,EAd7BU,GAkBF,WACE,MAAMR,EAAYC,aAAaC,QAAQ,SACvC,IAAIK,EAAgBb,KAAKC,MAAMK,GAC/B,GAAsB,OAAlBO,EACF,OAEyB,IAAIA,GACNV,SAjFhB,QAkFPV,EAAWW,YAAc,oBAEzBX,EAAWW,YAAc,c,CA3B3BW,E","sources":["src/js/add-watched-queue.js"],"sourcesContent":["const API_KEY = '7fc57a32bb8b4747bafc97bb7301e33f';\nconst BASE_URL = 'https://api.themoviedb.org';\n\nconst id = 638974;\n\nconst addWatchedEl = document.querySelector('.modal__button-watched');\nconst addQueueEl = document.querySelector('.modal__button-queue');\nconst galleryCard = document.querySelector('.film__gallery');\n\naddWatchedEl.addEventListener('click', toggleFilmToWatchedStorage);\naddQueueEl.addEventListener('click', toggleFilmToQueueStorage);\ngalleryCard.addEventListener('click', checkStorageKeys);\n\nfunction toggleFilmToWatchedStorage() {\n  if (addWatchedEl.textContent === 'Remove from watched') {\n    const fromLocal = localStorage.getItem('watched');\n    let watchedStorage = JSON.parse(fromLocal);\n    const removeMovie = watchedStorage.filter(el => el !== id);\n    localStorage.setItem('watched', JSON.stringify(removeMovie));\n    addWatchedEl.textContent = 'Add to watched';\n    return;\n  }\n  const fromLocal = localStorage.getItem('watched');\n  localStorage.setItem(\n    'watched',\n    JSON.stringify(checkLocaleStorage(fromLocal, 'watched', addWatchedEl))\n  );\n}\n\nfunction toggleFilmToQueueStorage() {\n  if (addQueueEl.textContent === 'Remove from queue') {\n    const fromLocal = localStorage.getItem('queue');\n    let queueStorage = JSON.parse(fromLocal);\n    const removeMovie = queueStorage.filter(el => el !== id);\n    localStorage.setItem('queue', JSON.stringify(removeMovie));\n    addQueueEl.textContent = 'Add to queue';\n    return;\n  }\n  const fromLocal = localStorage.getItem('queue');\n  localStorage.setItem(\n    'queue',\n    JSON.stringify(checkLocaleStorage(fromLocal, 'queue', addQueueEl))\n  );\n}\n\nfunction checkLocaleStorage(data, btn, el) {\n  let queueStorage = JSON.parse(data);\n  if (queueStorage === null) {\n    queueStorage = [];\n  }\n  let currentLocaleStorage = [...queueStorage];\n  if (!currentLocaleStorage.includes(id)) {\n    currentLocaleStorage = [...currentLocaleStorage, id];\n    el.textContent = `Remove from ${btn}`;\n  }\n  return currentLocaleStorage;\n}\n\nfunction checkStorageKeys() {\n  checkWatchedKeys();\n  checkQueueKeys();\n}\n\nfunction checkWatchedKeys() {\n  const fromLocal = localStorage.getItem('watched');\n  let localeStorage = JSON.parse(fromLocal);\n  if (localeStorage === null) {\n    return;\n  }\n  let currentLocaleStorage = [...localeStorage];\n  if (currentLocaleStorage.includes(id)) {\n    addWatchedEl.textContent = 'Remove from watched';\n  } else {\n    addWatchedEl.textContent = 'Add to watched';\n  }\n}\n\nfunction checkQueueKeys() {\n  const fromLocal = localStorage.getItem('queue');\n  let localeStorage = JSON.parse(fromLocal);\n  if (localeStorage === null) {\n    return;\n  }\n  let currentLocaleStorage = [...localeStorage];\n  if (currentLocaleStorage.includes(id)) {\n    addQueueEl.textContent = 'Remove from queue';\n  } else {\n    addQueueEl.textContent = 'Add to queue';\n  }\n}\n"],"names":["$0d651810881359aa$var$addWatchedEl","document","querySelector","$0d651810881359aa$var$addQueueEl","$0d651810881359aa$var$galleryCard","$0d651810881359aa$var$checkLocaleStorage","data","btn","el","queueStorage","JSON","parse","currentLocaleStorage","includes","textContent","addEventListener","fromLocal","localStorage","getItem","removeMovie","filter","setItem","stringify","localeStorage","$0d651810881359aa$var$checkWatchedKeys","$0d651810881359aa$var$checkQueueKeys"],"version":3,"file":"index.69e10364.js.map"}